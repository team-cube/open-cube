///////////////////////////////////////////////////////////////////////////////
//  Scoreboard                                                               //
///////////////////////////////////////////////////////////////////////////////

newui "scoreboard" [
   if $mainmenu [hideui "scoreboard"]
   uiallowinput 0
   uicolor $c_menu 0 0 [
      uioutline $c_line_a ; uiclamp- 1 1 1 1
      if (> $getmode 2) [blarg_boardteam] [blarg_boardsolo]
   ]
] [if $mainmenu [hideui "scoreboard"]] []

///////////////////////////////////////////////////////////0

blarg_solosize = 0.75
blarg_teamsize = 1.10

blarg_headersizeA = (-f $blarg_solosize 0.18)
blarg_headersizeB = 0.18

blarg_teamheadersizeA = (-f $blarg_teamsize 0.18)
blarg_teamheadersizeB = 0.18

blarg_headerfontsize1 = 0.65
blarg_headerfontsize2 = 0.52
blarg_headerfontsize3 = 0.52

blarg_labeltextsize = 0.45
blarg_labelgap1 = 0.018
blarg_labelgap2 = 0.037
blarg_labelgap3 = 0.025
blarg_labelgap4 = 0.047
blarg_labelgap5 = 0.052

blarg_tablefontsize  = 0.52
blarg_tablerowheight = 0.024
blarg_tablewidth     = (-f $blarg_solosize 0.02)
blarg_tablewidthteam = (-f (*f $blarg_teamsize 0.5) 0.02)

blarg_rojo1 = 0x2b2727
blarg_rojo2 = 0x262222
blarg_azul1 = 0x27292b
blarg_azul2 = 0x222426
blarg_solo1 = 0x2C2C2C
blarg_solo2 = 0x262626

///////////////////////////////////////////////////////////1

blarg_boardsolo = [
   uivlist 0 [
      uifill 0 0.005
      uifill $blarg_solosize 0 [
         uifill $blarg_headersizeA 0 [
            uialign -1
            uiclip $blarg_headersizeA 0 [
               uialign -1
               uispace 0.01 0 [
                  uivlist 0 [
                     uitext (scoreboardservinfo) $blarg_headerfontsize1
                     uihlist 0.015 [
                        uifill
                        uihlist 0.003 [
                           uitext "^fs[" $blarg_headerfontsize2
                           uitext (format "%2%1" (getmastermodename $getmastermode) (at ["^f0" "^f0" "^f2" "^f3"] $getmastermode)) $blarg_headerfontsize2
                           uitext "^fS]" $blarg_headerfontsize2
                        ]
                        UItriangle 0xCCCCCC 0.01 0.01 270
                        uitext (getmodeprettyname $getmode) $blarg_headerfontsize2
                        UItriangle 0xCCCCCC 0.01 0.01 270
                        uitext $scoreboardmap $blarg_headerfontsize2
                        if (m_timed $getmode) [
                           UItriangle 0xCCCCCC 0.01 0.01 270
                           uitext (concatword (? (|| $intermission $paused) "^f3" "^f8") $scoreboardtime) $blarg_headerfontsize2
                        ]
                     ]
                     uialign* -1
                  ]
               ]
            ]
         ]
         uifill $blarg_headersizeB 0 [
            uialign 1
            UIbar 0 1; uialign- -1
            uiclip 0.18 0 [
               uialign 1
               uispace 0.01 0 [
                  uivlist 0.004 [
                     uicolortext "255.255.255.255" 0x808080 $blarg_headerfontsize3
                     uicolortext "42000" 0x808080 $blarg_headerfontsize3
                     uialign* 1
                  ]
               ]
               uialign- 1
            ]
         ]
      ]
      uifill 0 0.005 //--------------------------------------------------------
      uicolor 0x161616 $blarg_solosize 0.022 [
         uihlist 0 [
            uialign 1 1
            uicolortext "K"    0x808080 $blarg_labeltextsize
            uifill $blarg_labelgap5
            uicolortext "D"    0x808080 $blarg_labeltextsize
            uifill $blarg_labelgap4
            uicolortext "PJ"   0x808080 $blarg_labeltextsize
            uifill $blarg_labelgap3
            uicolortext "PING" 0x808080 $blarg_labeltextsize
            uifill $blarg_labelgap2
            uicolortext "#"    0x808080 $blarg_labeltextsize
            uifill $blarg_labelgap1
         ]
      ]
      uifill 0 0.005 //--------------------------------------------------------
      uivlist 0 [
         looplist2 pn pbg [//<<
            0 @blarg_solo1
            1 @blarg_solo2
            2 @blarg_solo1
            3 @blarg_solo2
            4 @blarg_solo1
            5 @blarg_solo2
            6 @blarg_solo1
          ] [
            uicolor $pbg $blarg_tablewidth $blarg_tablerowheight [
               uihlist 0 [
                  uialign -1
                  uifill 0.01
                  uitext (concatword "Player" $pn) $blarg_tablefontsize
               ]
               uihlist 0 [
                  uialign 1
                  uifill 0.070 0 [uicolortext "-9999" 0x808080 $blarg_tablefontsize]
                  uifill 0.060 0 [uicolortext "9999"  0x808080 $blarg_tablefontsize]
                  uifill 0.060 0 [uicolortext "9999"  0x808080 $blarg_tablefontsize]
                  uifill 0.060 0 [uicolortext "9999"  0x808080 $blarg_tablefontsize]
                  uifill 0.046 0 [uicolortext "255"   0x808080 $blarg_tablefontsize]
               ]
            ]
         ]//>>
         uicolor $blarg_solo2 $blarg_tablewidth $blarg_tablerowheight [//<<
            uifill (-f $blarg_tablewidth 0.002) (-f $blarg_tablerowheight 0.002) [uioutline 0xA0A0A0 ; uiclamp- 1 1 1 1] // outline fix/hack
            uihlist 0 [
               uialign -1
               uifill 0.01
               uitext "WWWWWWWWWWWWWWW" $blarg_tablefontsize
            ]
            uihlist 0 [
               uialign 1
               uifill 0.070 0 [uicolortext "-9999" 0x808080 $blarg_tablefontsize]
               uifill 0.060 0 [uicolortext "9999"  0x808080 $blarg_tablefontsize]
               uifill 0.060 0 [uicolortext "9999"  0x808080 $blarg_tablefontsize]
               uifill 0.060 0 [uicolortext "9999"  0x808080 $blarg_tablefontsize]
               uifill 0.046 0 [uicolortext "255"   0x808080 $blarg_tablefontsize]
            ]
         ]//>>
         looplist2 pn pbg [//<<
            8  @blarg_solo1
            9  @blarg_solo2
            10 @blarg_solo1
            11 @blarg_solo2
            12 @blarg_solo1
            13 @blarg_solo2
            14 @blarg_solo1
            15 @blarg_solo2
            16 @blarg_solo1
            17 @blarg_solo2
            18 @blarg_solo1
            19 @blarg_solo2
            20 @blarg_solo1
            21 @blarg_solo2
            22 @blarg_solo1
            23 @blarg_solo2
            24 @blarg_solo1
            25 @blarg_solo2
            26 @blarg_solo1
            27 @blarg_solo2
            28 @blarg_solo1
            29 @blarg_solo2
            30 @blarg_solo1
            31 @blarg_solo2
          ] [
            uicolor $pbg $blarg_tablewidth $blarg_tablerowheight [
               uihlist 0 [
                  uialign -1
                  uifill 0.01
                  uitext (concatword "Player" $pn) $blarg_tablefontsize
               ]
               uihlist 0 [
                  uialign 1
                  uifill 0.070 0 [uicolortext "-9999" 0x808080 $blarg_tablefontsize]
                  uifill 0.060 0 [uicolortext "9999"  0x808080 $blarg_tablefontsize]
                  uifill 0.060 0 [uicolortext "9999"  0x808080 $blarg_tablefontsize]
                  uifill 0.060 0 [uicolortext "9999"  0x808080 $blarg_tablefontsize]
                  uifill 0.046 0 [uicolortext "255"   0x808080 $blarg_tablefontsize]
               ]
            ]
         ]//>>
      ]
      uifill 0 0.01
   ]
]

///////////////////////////////////////////////////////////2

blarg_boardteam = [
   uivlist 0 [
      uifill 0 0.005
      uifill $blarg_teamsize 0 [
         uifill $blarg_teamheadersizeA 0 [
            uialign -1
            uiclip $blarg_teamheadersizeA 0 [
               uialign -1
               uispace 0.01 0 [
                  uivlist 0 [
                     uitext (scoreboardservinfo) $blarg_headerfontsize1
                     uihlist 0.015 [
                        uifill
                        uihlist 0.003 [
                           uitext "^fs[" $blarg_headerfontsize2
                           uitext (format "%2%1" (getmastermodename $getmastermode) (at ["^f0" "^f0" "^f2" "^f3"] $getmastermode)) $blarg_headerfontsize2
                           uitext "^fS]" $blarg_headerfontsize2
                        ]
                        UItriangle 0xCCCCCC 0.01 0.01 270
                        uitext (getmodeprettyname $getmode) $blarg_headerfontsize2
                        UItriangle 0xCCCCCC 0.01 0.01 270
                        uitext $scoreboardmap $blarg_headerfontsize2
                        if (m_timed $getmode) [
                           UItriangle 0xCCCCCC 0.01 0.01 270
                           uitext (concatword (? (|| $intermission $paused) "^f3" "^f8") $scoreboardtime) $blarg_headerfontsize2
                        ]
                     ]
                     uialign* -1
                  ]
               ]
            ]
         ]
         uifill $blarg_teamheadersizeB 0 [
            uialign 1
            UIbar 0 1; uialign- -1
            uiclip 0.18 0 [
               uialign 1
               uispace 0.01 0 [
                  uivlist 0.004 [
                     uicolortext "255.255.255.255" 0x808080 $blarg_headerfontsize3
                     uicolortext "42000" 0x808080 $blarg_headerfontsize3
                     uialign* 1
                  ]
               ]
               uialign- 1
            ]
         ]
      ]
      uifill 0 0.005 //--------------------------------------------------------
      uihlist 0 [
         uicolor 0x202860 (*f $blarg_teamsize 0.5) 0.042 [ // << blue
            uihlist 0 [
               uialign -1 1
               uifill $blarg_labelgap1
               uicolortext "#"    0x808080 $blarg_labeltextsize
               uifill $blarg_labelgap2
               uicolortext "PING" 0x808080 $blarg_labeltextsize
               uifill $blarg_labelgap3
               uicolortext "PJ"   0x808080 $blarg_labeltextsize
               uifill $blarg_labelgap4
               uicolortext "D"    0x808080 $blarg_labeltextsize
               uifill $blarg_labelgap5
               uicolortext "K"    0x808080 $blarg_labeltextsize
            ]
            uispace 0.01 0 [
               uialign 1
               uicolortext "99" 0x4060D0 1
            ]
         ]
         uicolor 0x602020 (*f $blarg_teamsize 0.5) 0.042 [ // >> red
            uispace 0.01 0 [
               uialign -1
               uicolortext "99" 0xD04040 1
            ]
            uihlist 0 [
               uialign 1 1
               uicolortext "K"    0x808080 $blarg_labeltextsize
               uifill $blarg_labelgap5
               uicolortext "D"    0x808080 $blarg_labeltextsize
               uifill $blarg_labelgap4
               uicolortext "PJ"   0x808080 $blarg_labeltextsize
               uifill $blarg_labelgap3
               uicolortext "PING" 0x808080 $blarg_labeltextsize
               uifill $blarg_labelgap2
               uicolortext "#"    0x808080 $blarg_labeltextsize
               uifill $blarg_labelgap1
            ]
         ]
      ]
      uifill 0 0.005 //--------------------------------------------------------
      uihlist 0 [
         uivlist 0 [ // << blue
            looplist2 pn pbg [//<<
               0  @blarg_azul1
               1  @blarg_azul2
               2  @blarg_azul1
               3  @blarg_azul2
               4  @blarg_azul1
               5  @blarg_azul2
               6  @blarg_azul1
               7  @blarg_azul2
               8  @blarg_azul1
               9  @blarg_azul2
               10 @blarg_azul1
               11 @blarg_azul2
               12 @blarg_azul1
               13 @blarg_azul2
               14 @blarg_azul1
               15 @blarg_azul2
               16 @blarg_azul1
               17 @blarg_azul2
               18 @blarg_azul1
               19 @blarg_azul2
               20 @blarg_azul1
               21 @blarg_azul2
               22 @blarg_azul1
               23 @blarg_azul2
               24 @blarg_azul1
               25 @blarg_azul2
               26 @blarg_azul1
               27 @blarg_azul2
               28 @blarg_azul1
               29 @blarg_azul2
               30 @blarg_azul1
               31 @blarg_azul2
             ] [
               uicolor $pbg $blarg_tablewidthteam $blarg_tablerowheight [
                  uihlist 0 [
                     uialign 1
                     uitext (concatword "Player" $pn) $blarg_tablefontsize
                     uifill 0.01
                  ]
                  uihlist 0 [
                     uialign -1
                     uifill 0.046 0 [uicolortext "255"   0x808080 $blarg_tablefontsize]
                     uifill 0.060 0 [uicolortext "9999"  0x808080 $blarg_tablefontsize]
                     uifill 0.060 0 [uicolortext "9999"  0x808080 $blarg_tablefontsize]
                     uifill 0.060 0 [uicolortext "9999"  0x808080 $blarg_tablefontsize]
                     uifill 0.070 0 [uicolortext "-9999" 0x808080 $blarg_tablefontsize]
                  ]
               ]
            ]//>>
         ]
         uifill 0.02 //--------------------------------------------------------
         uivlist 0 [ // >> red
            looplist2 pn pbg [//<<
               32 @blarg_rojo1
               33 @blarg_rojo2
               34 @blarg_rojo1
               35 @blarg_rojo2
               36 @blarg_rojo1
               37 @blarg_rojo2
               38 @blarg_rojo1
             ] [
               uicolor $pbg $blarg_tablewidthteam $blarg_tablerowheight [
                  uihlist 0 [
                     uialign -1
                     uifill 0.01
                     uitext (concatword "Player" $pn) $blarg_tablefontsize
                  ]
                  uihlist 0 [
                     uialign 1
                     uifill 0.070 0 [uicolortext "-9999" 0x808080 $blarg_tablefontsize]
                     uifill 0.060 0 [uicolortext "9999"  0x808080 $blarg_tablefontsize]
                     uifill 0.060 0 [uicolortext "9999"  0x808080 $blarg_tablefontsize]
                     uifill 0.060 0 [uicolortext "9999"  0x808080 $blarg_tablefontsize]
                     uifill 0.046 0 [uicolortext "255"   0x808080 $blarg_tablefontsize]
                  ]
               ]
            ]//>>
            uicolor @blarg_rojo2 $blarg_tablewidthteam $blarg_tablerowheight [//<<
               uifill (-f $blarg_tablewidthteam 0.002) (-f $blarg_tablerowheight 0.002) [uioutline 0xA0A0A0 ; uiclamp- 1 1 1 1] // outline fix/hack
               uihlist 0 [
                  uialign -1
                  uifill 0.01
                  uitext "WWWWWWWWWWWWWWW" $blarg_tablefontsize
               ]
               uihlist 0 [
                  uialign 1
                  uifill 0.070 0 [uicolortext "-9999" 0x808080 $blarg_tablefontsize]
                  uifill 0.060 0 [uicolortext "9999"  0x808080 $blarg_tablefontsize]
                  uifill 0.060 0 [uicolortext "9999"  0x808080 $blarg_tablefontsize]
                  uifill 0.060 0 [uicolortext "9999"  0x808080 $blarg_tablefontsize]
                  uifill 0.046 0 [uicolortext "255"   0x808080 $blarg_tablefontsize]
               ]
            ]//>>
            looplist2 pn pbg [//<<
               40 @blarg_rojo1
               41 @blarg_rojo2
               42 @blarg_rojo1
               43 @blarg_rojo2
               44 @blarg_rojo1
               45 @blarg_rojo2
               46 @blarg_rojo1
               47 @blarg_rojo2
               48 @blarg_rojo1
               49 @blarg_rojo2
               50 @blarg_rojo1
               51 @blarg_rojo2
               52 @blarg_rojo1
               53 @blarg_rojo2
               54 @blarg_rojo1
               55 @blarg_rojo2
               56 @blarg_rojo1
               57 @blarg_rojo2
               58 @blarg_rojo1
               59 @blarg_rojo2
               60 @blarg_rojo1
               61 @blarg_rojo2
               62 @blarg_rojo1
               63 @blarg_rojo2
             ] [
               uicolor $pbg $blarg_tablewidthteam $blarg_tablerowheight [
                  uihlist 0 [
                     uialign -1
                     uifill 0.01
                     uitext (concatword "Player" $pn) $blarg_tablefontsize
                  ]
                  uihlist 0 [
                     uialign 1
                     uifill 0.070 0 [uicolortext "-9999" 0x808080 $blarg_tablefontsize]
                     uifill 0.060 0 [uicolortext "9999"  0x808080 $blarg_tablefontsize]
                     uifill 0.060 0 [uicolortext "9999"  0x808080 $blarg_tablefontsize]
                     uifill 0.060 0 [uicolortext "9999"  0x808080 $blarg_tablefontsize]
                     uifill 0.046 0 [uicolortext "255"   0x808080 $blarg_tablefontsize]
                  ]
               ]
            ]//>>
         ]
      ]
      uifill 0 0.01
   ]
]
