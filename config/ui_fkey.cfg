///////////////////////////////////////////////////////////////////////////////
//  F1 Create/Modify Entity                                                  //
///////////////////////////////////////////////////////////////////////////////
entitymenu = [if (enthavesel) [toggleui editentity] [toggleui addentity]]

UIEditMenu "editentity" [
   uifill 0.5 0.5 [UIButton "ToDo" [hidetopui]]
] "Edit Entity"

UIEditMenu "addentity" [
   uifill 0.5 0.5 [UIButton "ToDo" [hidetopui]]
] "Add Entity"

///////////////////////////////////////////////////////////////////////////////
//  F2 Texture List                                                          //
///////////////////////////////////////////////////////////////////////////////
UIEditMenu "texture" [
   UIVScroller 1.23 0.8 0.02 6 [
      uigrid 8 0.006125 0.006125 [
         looptexmru tex [
            uivslotview $tex 0.145 0.145 [
               uihold [uioutline 0xC0C0C0; uiclamp- 1 1 1 1] [uihover [uioutline 0xFFFFFF; uiclamp- 1 1 1 1]]
               uirelease [hideui textures; settex $tex]
            ]
         ]
      ]
   ]
] "Texture"

///////////////////////////////////////////////////////////////////////////////
//  F3 Mapmodel                                                              //
///////////////////////////////////////////////////////////////////////////////
UIEditMenu "mapmodel" [
   uihlist 0.01 [
      if (mapmodelname $mapmodelpreviewindex) [
         uivlist 0.01 [
            uimodelpreview (mapmodelname $mapmodelpreviewindex 1) "mapmodel" 0.6 0.6 [
               uihold [uioutline 0xC0C0C0; uiclamp- 1 1 1 1] [uihover [uioutline 0xFFFFFF; uiclamp- 1 1 1 1]]
               uirelease [
                  hideui mapmodels
                  newent mapmodel $mapmodelpreviewindex
               ]
            ]
            uiclip 0.6 0 [
               uialign 0 1
               uitext (mapmodelname $mapmodelpreviewindex) 0.6
            ]
         ]
      ] [
         uifill 0.6 0.6
      ] 
      UIVScroller 0.6 0.8 0.02 3.0 [
         uivlist 0.01 [
            uiclamp 1 1 0
            loop i (nummapmodels) [
               UIButton (mapmodelname $i) [hideui mapmodels; newent mapmodel $i] [
                  uihover [mapmodelpreviewindex = $i]
               ]
            ]
            uiclamp* 1 1 0 0
         ]
      ]
   ]
] "Add Map Model" [mapmodelpreviewindex = -1]

///////////////////////////////////////////////////////////////////////////////
//  F4 Material                                                              //
///////////////////////////////////////////////////////////////////////////////
UIEditMenu "material" [
   uifill 0.5 0.5 []
   UIButton "ToDo" [hidetopui]
] "Edit Material"

///////////////////////////////////////////////////////////////////////////////
//  F5 Save Map                                                              //
///////////////////////////////////////////////////////////////////////////////
savemapmenu = [if (! $mapname) [toggleui savemap] [savemap]]

UIEditMenu "savemap" [
   uifill 0.5 0.5 []
   UIButton "ToDo" [hidetopui]
] "Save Map"

///////////////////////////////////////////////////////////////////////////////
//  F6 Load Map                                                              //
///////////////////////////////////////////////////////////////////////////////
UIMenu "loadmap" [
   uihlist 0 [
      uivlist 0.01 [
         uiimage (concatword "media/map/" $loadmappreview ".png") 0.3 0.3 [uicolor 0xFF000000; uioutline 0x2C2C2C; uiclamp- 1 1 1 1]
         if $loadmappreview [
            uiclip 0.6 0 [uialign 0 1; uitext $loadmappreview 0.8]
         ] [
            uiclip 0.6 0 [uialign 0 1; uitext " " 0.8]
         ]
         uifill 0.0 0.32
         uihlist 0.01 [
            nextmode = (getnextmode)
            uivlist 0.01 [
               uihlist 0.01 [UIRadio nextmode = 0 [mode $nextmode]; uitext "Edit" 0.6]
               uialign* -1 -1
            ]
            uivlist 0.01 [
               uihlist 0.01 [UIRadio nextmode = 2 [mode $nextmode]; uitext "pDM"  0.6]
               uihlist 0.01 [UIRadio nextmode = 4 [mode $nextmode]; uitext "pTDM" 0.6]
               uihlist 0.01 [UIRadio nextmode = 6 [mode $nextmode]; uitext "pCTF" 0.6]
               uialign* -1 -1
            ]
            uivlist 0.01 [
               uihlist 0.01 [UIRadio nextmode = 1 [mode $nextmode]; uitext "rDM"  0.6]
               uihlist 0.01 [UIRadio nextmode = 3 [mode $nextmode]; uitext "rTDM" 0.6]
               uihlist 0.01 [UIRadio nextmode = 5 [mode $nextmode]; uitext "rCTF" 0.6]
               uialign* -1 -1
            ]
            uialign* -1 -1
         ]
      ]
      uifill 0.015 0.0
      UIVScroller 0.5 0.8 0.02 3.0 [
         uivlist 0.01 [
            uiclamp 1 1 0 0
            loopfiles i "media/map" "ogz" [
               UIButton $i [hideui loadmap; map $i] [
                  uihover [loadmappreview = $i]
               ]
            ]
            uiclamp* 1 1 0 0
         ]
      ]
      uialign* -1 -1
   ]
] "Load Map" [loadmappreview = ""]

///////////////////////////////////////////////////////////////////////////////
//  F7 Environment Settings                                                  //
///////////////////////////////////////////////////////////////////////////////
UIEditMenu "env_settings" [
   uifill 0.5 0.5 [UIButton "ToDo" [hidetopui]]
] "Environment Settings"

///////////////////////////////////////////////////////////////////////////////
//  F8 World Geometry Prefab                                                 //
///////////////////////////////////////////////////////////////////////////////
UIEditMenu "geo_prefab" [
   uifill 0.5 0.5 [UIButton "ToDo" [hidetopui]]
] "World Geometry Prefab"

///////////////////////////////////////////////////////////////////////////////
//  F9 Miscellaneous Editing                                                 //
///////////////////////////////////////////////////////////////////////////////
UIEditMenu "misc_editing" [
   uifill 0.5 0.5 [UIButton "ToDo" [hidetopui]]
] "Miscellaneous Editing"

///////////////////////////////////////////////////////////////////////////////
//  F9 Gamemode Information                                                  //
///////////////////////////////////////////////////////////////////////////////
UIMenu "gamemode_info" [
   uifill 0.5 0.5 [UIButton "ToDo" [hidetopui]]
] "Gamemode Information"

///////////////////////////////////////////////////////////////////////////////
//  F10 Default Keybind Quick Reference                                      //
///////////////////////////////////////////////////////////////////////////////
UIEditMenu "editbind_reference" [
   uiimage "doc/Editbind_Reference.png" 1.375 0.825 []
] "Default Editbind Quick Reference"

UIMenu "gamebind_reference" [
   uiimage "doc/Gamebind_Reference.png" 1.100 0.825 []
] "Default Gamebind Quick Reference"

///////////////////////////////////////////////////////////////////////////////
//  F11 Fullscreen Console                                                   //
///////////////////////////////////////////////////////////////////////////////
UIMenuNoTitle "fullconsole" [
   uiallowinput 0
   uiconsole 0 (divf $fullconsize 100) [uiclamp 1 1 0 0]
] [] [] [uiclamp 1 1 0 0; uialign 0 -1] [] 0xBB080808
