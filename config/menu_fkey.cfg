///////////////////////////////////////////////////////////////////////////////
//  F1 Create/Modify Entity                                                  //
///////////////////////////////////////////////////////////////////////////////
entitymenu = [if (enthavesel) [toggleui editentity] [toggleui addentity]]

UIEditMenu "editentity" [
   uitext A 1.0
   uifill 0.3 0.3
] "Edit Entity"

UIEditMenu "addentity" [
   uitext B 1.0
   uifill 0.3 0.3
] "Add Entity"

///////////////////////////////////////////////////////////////////////////////
//  F2 Texture List                                                          //
///////////////////////////////////////////////////////////////////////////////
UIEditMenu "texture" [
   UIVScroller 1.125 0.8 0.02 4 [
      uigrid 10 0.01 [
         looptexmru tex [
            uivslotview $tex 0.1 0.1 [
               uihold [uioutline 0xC0C0C0; uiclamp- 1 1 1 1] [uihover [uioutline 0xFFFFFF; uiclamp- 1 1 1 1]]
               uirelease [hideui textures; settex $tex]
            ]
         ]
      ]
   ]
] "Texture"

///////////////////////////////////////////////////////////////////////////////
//  F3 Mapmodel                                                              //
///////////////////////////////////////////////////////////////////////////////
UIEditMenu "mapmodel" [
   uihlist 0.01 [
      if (mapmodelname $mapmodelpreviewindex) [
         uivlist 0.01 [
            uimodelpreview (mapmodelname $mapmodelpreviewindex 1) "mapmodel" 0.6 0.6 [
               uihold [uioutline 0xC0C0C0; uiclamp- 1 1 1 1] [uihover [uioutline 0xFFFFFF; uiclamp- 1 1 1 1]]
               uirelease [
                  hideui mapmodels
                  newent mapmodel $mapmodelpreviewindex
               ]
            ]
            uiclip 0.6 0 [
               uialign 0 1
               uitext (mapmodelname $mapmodelpreviewindex) 1.5
            ]
         ]
      ] [
         uifill 0.6 0.6
      ] 
      UIVScroller 0.6 0.8 0.02 3.0 [
         uivlist 0.01 [
            uiclamp 1 1 0
            loop i (nummapmodels) [
               UIButton (mapmodelname $i) [hideui mapmodels; newent mapmodel $i] [
                  uihover [mapmodelpreviewindex = $i]
               ]
            ]
         ]
      ]
   ]
] "Add Map Model" [mapmodelpreviewindex = -1]

///////////////////////////////////////////////////////////////////////////////
//  F4 Material                                                              //
///////////////////////////////////////////////////////////////////////////////
UIEditMenu "material" [
   uifill 0.3 0.3
] "Edit Material"

///////////////////////////////////////////////////////////////////////////////
//  F5 Save Map                                                              //
///////////////////////////////////////////////////////////////////////////////
savemapmenu = [if (! $mapname) [toggleui savemap] [savemap]]

UIEditMenu "savemap" [
   uifill 0.3 0.3
] "Save Map"

///////////////////////////////////////////////////////////////////////////////
//  F6 Load Map                                                              //
///////////////////////////////////////////////////////////////////////////////
UIMenu "loadmap" [
   uihlist 0.0075 [
      uivlist 0.0075 [
         uiimage (concatword "media/map/" $loadmappreview ".png") 0.3 0.3 [uicolor 0xFF000000; uioutline 0xBBBBBB; uiclamp- 1 1 1 1]
         if $loadmappreview [
            uiclip 0.6 0 [uialign 0 1; uitext $loadmappreview 0.8]
         ] [
            uiclip 0.6 0 [uialign 0 1; uitext " " 0.8]
         ]
      ]
      UIVScroller 0.5 0.8 0.02 0.5 [
         uivlist 0.0075 [
            uiclamp 1 1 0 0
            loopfiles i "media/map" "ogz" [
               UIButton $i [hideui loadmap; map $i] [
                  uihover [loadmappreview = $i]
               ]
            ]
         ]
      ]
   ]
] "Load Map" [loadmappreview = ""]

///////////////////////////////////////////////////////////////////////////////
//  F7 Environment Settings                                                  //
///////////////////////////////////////////////////////////////////////////////
UIEditMenu "env_settings" [
   uifill 0.3 0.3
] "Environment Settings"

///////////////////////////////////////////////////////////////////////////////
//  F8 World Geometry Prefab                                                 //
///////////////////////////////////////////////////////////////////////////////
UIEditMenu "geo_prefab" [
   uifill 0.3 0.3
] "World Geometry Prefab"

///////////////////////////////////////////////////////////////////////////////
//  F9 Miscellaneous Editing                                                 //
///////////////////////////////////////////////////////////////////////////////
UIEditMenu "misc_editing" [
   uifill 0.3 0.3
] "Miscellaneous Editing"

///////////////////////////////////////////////////////////////////////////////
//  F10 Default Editbind Quick Reference                                     //
///////////////////////////////////////////////////////////////////////////////
UIEditMenu "editbind_reference" [
   uiimage "doc/Editbind_Reference.png" 1.375 0.825 []
] "Default Editbind Quick Reference"

UIMenu "gamebind_reference" [
   uiimage "doc/Gamebind_Reference.png" 1.100 0.825 []
] "Default Gamebind Quick Reference"